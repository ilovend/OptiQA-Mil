# 打光方式与技巧学习笔记 — 框架

说明：本文件为学习工业视觉中的打光方式与技巧的笔记框架，后续在对应小节补充要点、示例、习题与心得。

## 目录
- [打光方式基础](#打光方式基础)
- [背光照明](#背光照明)
- [同轴光照明](#同轴光照明)
- [漫射光照明](#漫射光照明)
- [结构光照明](#结构光照明)
- [偏振光技术](#偏振光技术)
- [光照方向与角度](#光照方向与角度)
- [常见缺陷与打光策略](#常见缺陷与打光策略)
- [多光源组合技术](#多光源组合技术)
- [打光方案设计流程](#打光方案设计流程)
- [打光系统评估方法](#打光系统评估方法)
- [工业应用案例](#工业应用案例)
- [学习资源与书签](#学习资源与书签)
- [学习进度与 TODO 列表](#学习进度与-todo-列表)

---

## 打光方式基础
- 光照方式的分类
- 明视场与暗视场照明
- 反射与透射照明
- 视觉检测中的对比度形成
- 光照系统选择原则
- 示例：
```python
# 不同打光方式对比度计算示例
import numpy as np
import matplotlib.pyplot as plt
from skimage import io, img_as_float, exposure

# 模拟不同打光方式下的图像
def simulate_lighting(image_size=(200, 200), feature_size=30, lighting_type='bright_field'):
    # 创建背景
    if lighting_type == 'bright_field':
        # 明场照明：亮背景上的暗特征
        img = np.ones(image_size) * 0.8
        # 添加凹陷特征(暗)
        center = (image_size[0]//2, image_size[1]//2)
        y, x = np.ogrid[:image_size[0], :image_size[1]]
        dist = np.sqrt((x - center[1])**2 + (y - center[0])**2)
        mask = dist <= feature_size
        img[mask] = 0.2
        
    elif lighting_type == 'dark_field':
        # 暗场照明：暗背景上的亮特征
        img = np.ones(image_size) * 0.2
        # 添加边缘特征(亮)
        center = (image_size[0]//2, image_size[1]//2)
        y, x = np.ogrid[:image_size[0], :image_size[1]]
        dist = np.sqrt((x - center[1])**2 + (y - center[0])**2)
        ring = (feature_size-2 <= dist) & (dist <= feature_size+2)
        img[ring] = 0.9
        
    elif lighting_type == 'backlight':
        # 背光照明：黑色轮廓
        img = np.ones(image_size) * 0.9
        center = (image_size[0]//2, image_size[1]//2)
        y, x = np.ogrid[:image_size[0], :image_size[1]]
        dist = np.sqrt((x - center[1])**2 + (y - center[0])**2)
        mask = dist <= feature_size
        img[mask] = 0.1
    
    # 添加噪声
    noise = np.random.normal(0, 0.03, image_size)
    img = np.clip(img + noise, 0, 1)
    
    return img

# 生成三种照明方式的图像
bright_field = simulate_lighting(lighting_type='bright_field')
dark_field = simulate_lighting(lighting_type='dark_field')
backlight = simulate_lighting(lighting_type='backlight')

# 计算对比度
def calculate_contrast(image):
    # 使用微比例方法计算对比度
    foreground = image[80:120, 80:120]  # 特征区域
    background = image[0:40, 0:40]  # 背景区域
    
    fg_mean = np.mean(foreground)
    bg_mean = np.mean(background)
    
    # 微比例对比度 = |Ifg - Ibg| / (Ifg + Ibg)
    contrast = np.abs(fg_mean - bg_mean) / (fg_mean + bg_mean)
    return contrast

# 计算三种方式的对比度
bright_contrast = calculate_contrast(bright_field)
dark_contrast = calculate_contrast(dark_field)
back_contrast = calculate_contrast(backlight)

# 显示图像和对比度
fig, axes = plt.subplots(1, 3, figsize=(15, 5))
titles = ['明场照明', '暗场照明', '背光照明']
images = [bright_field, dark_field, backlight]
contrasts = [bright_contrast, dark_contrast, back_contrast]

for i, (ax, img, title, contrast) in enumerate(zip(axes, images, titles, contrasts)):
    ax.imshow(img, cmap='gray')
    ax.set_title(f"{title}\n对比度: {contrast:.3f}")
    ax.axis('off')

plt.tight_layout()
plt.show()

print(f"明场照明对比度: {bright_contrast:.3f}")
print(f"暗场照明对比度: {dark_contrast:.3f}")
print(f"背光照明对比度: {back_contrast:.3f}")
```
- 记录：
    - 打光基础概念理解：

## 背光照明
- 背光照明原理与配置
- 轮廓检测应用
- 尺寸测量技术
- 透射率检测
- 背光光源类型与选择
- 记录：
    - 背光应用场景分析：

## 同轴光照明
- 同轴光原理与结构
- 光路设计
- 光强均匀性
- 平面特征检测
- 镜面反射面检测
- 记录：
    - 同轴光实际应用：

## 漫射光照明
- 漫射光原理与特性
- 漫射板材料与结构
- 均匀照明技术
- 漫反射表面检测
- 阴影消除技术
- 记录：
    - 漫射光设计心得：

## 结构光照明
- 结构光类型（条纹、网格、点阵）
- 结构光投影技术
- 三维测量原理
- 相位移技术
- 结构光编码方法
- 记录：
    - 结构光系统配置经验：

## 偏振光技术
- 偏振光基础
- 偏振片与偏振器件
- 应力检测应用
- 反光抑制技术
- 透明材料检测
- 记录：
    - 偏振技术应用心得：

## 光照方向与角度
- 入射角与观察角关系
- 侧光照明技术
- 表面纹理增强
- 凹凸缺陷检测
- 多方向照明比较
- 记录：
    - 角度选择经验：

## 常见缺陷与打光策略
- 表面划痕检测
- 凹坑与凸起检测
- 边缘缺陷检测
- 颜色偏差检测
- 涂层缺陷检测
- 记录：
    - 缺陷-光照匹配策略：

## 多光源组合技术
- 顺序照明技术
- 多色光照明
- 混合照明策略
- 控制与同步
- 图像融合处理
- 记录：
    - 组合照明实验：

## 打光方案设计流程
- 检测需求分析
- 样品材料特性分析
- 缺陷特征提取
- 光源与打光方式选择
- 测试与优化过程
- 记录：
    - 方案设计工作流：

## 打光系统评估方法
- 光照均匀性评估
- 对比度测量
- 稳定性测试
- 重复性分析
- 工业环境适应性
- 记录：
    - 系统评估标准：

## 工业应用案例
- 军工零部件表面检测
- 光学镜片缺陷检测
- 弹药外观检测
- 精密机械零件测量
- PCB电路板检测
- 记录：
    - 案例分析与经验：

## 学习资源与书签
- 教材与参考书
- 技术文章与论文
- 行业标准
- 视频教程
- 记录：
    - 资源链接：

## 学习进度与 TODO 列表
- [ ] 打光方式基础掌握
- [ ] 各类照明技术理解
- [ ] 缺陷与打光匹配分析
- [ ] 打光方案设计能力
- [ ] 实际案例分析
- 自定义进度记录区：

---

备注：每个章节下可按"要点 / 代码示例 / 习题 / 参考链接 / 个人笔记"五小节结构补充内容。